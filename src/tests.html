<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="issues-list"></div>
<script>
    const repoOwner = 'Jelle-van-den-Broek';
    const repoName = 'Portfolio';
    const accessToken = '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'; // Replace with your access token

    const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/issues`;

    fetch(apiUrl, {
        headers: {
            Authorization: `token ${accessToken}`,
        },
    })
        .then((response) => response.json())
        .then((data) => {
            // Get a reference to the issues-list div
            const issuesList = document.getElementById('issues-list');

            // Check if there are issues
            if (data.length === 0) {
                issuesList.innerHTML = 'No issues found in this repository.';
            } else {
                // Create an HTML list to display the issues
                const ul = document.createElement('ul');

                // Loop through the issues and create list items for each
                data.forEach((issue) => {
                    const li = document.createElement('li');
                    li.innerHTML = `<strong>${issue.title}</strong>: ${issue.body}`;

                    // Create a div to display the labels
                    const labelsDiv = document.createElement('div');

                    // Loop through the labels of the current issue
                    issue.labels.forEach((label) => {
                        const labelSpan = document.createElement('span');
                        labelSpan.textContent = label.name;
                        labelsDiv.appendChild(labelSpan);
                    });

                    // Append the labelsDiv to the li
                    li.appendChild(labelsDiv);

                    ul.appendChild(li);
                });

                // Append the list to the issues-list div
                issuesList.appendChild(ul);
            }
        })
        .catch((error) => {
            console.error('Error fetching issues:', error);
        });

</script>
</body>
</html>